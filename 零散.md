

### HMR(HOT Module Replacement)

- WDS与浏览器建立一个`WS`；当本地资源更新时，WDS会向浏览器推送更新，并带上构建时的`hash`，让客户端与上一次资源进行对比。对比出差异的时候先WDS发起`Ajax`请求来获取更改内容（文件列表、hash）,再借助这些信息继续发器`jsonp`请求获取该chunk的增量更新；
- 获取到批量更新后怎么处理，由`HostModulePlugin`来完成，提供相关API可根据自身场景进行处理，e g `react-hot-loader`、`vue-loader`;



## 国家化

#### 入口（效果）

- 文字、阅读方向、图片
- 布局（不同的文字可能导致布局异常）
- 日期

### 架构

- babel解析

- 找出字符串节点；自动生成变量名 
- 生成函数表达式（将变量和文案同步到资源文件【文案提交-可优化成平台配置】）

平台化配置设想：上传多个资源文件（??本地替换成URL）-后端解析出JSON-平台直接翻译保持生成资源文件；版本控制-可回滚



### 垃圾回收

#### 步骤

- 垃圾回收器获取根并`标记`"它们"。
- 访问并标记所有来自"它们"的引用。
- 所有被访问的对象被记住，下次不会再访问；
- 除标记的对象外，所有对象都被删除；

#### 优化

- 分代回收 （新老分代，活跃旧的变老，很少检查）
- 增量回收 （划分对象集、分别执行）
- 空闲时间收集 （CPU空闲时运行，以减少对执行的可能影响）